@using Microsoft.AspNetCore.Identity
@model Repository.Models.DatabaseModels.CourseProject
@inject ApplicationDbContext _context
@inject RoleManager<IdentityRole> _roleManager


@{
  ViewData["Title"] = "Создание страницы проекта";
  var teacherRoleId = _roleManager.FindByNameAsync("Teacher").Result.Id;
  var teachersIds = _context.UserRoles
    .Where(a => a.RoleId == teacherRoleId)
    .Select(b => b.UserId).Distinct().ToList();

  var teachers = _context.Users.Where(a => teachersIds.Any(c => c == a.Id))
    .Select(c => new {c.Id, Full_Name = $"{c.Surname} {c.FirstName} {c.Patronymic}"});
}
<div class="row justify-content-center">

  <div class="col-md-6">
    <h2 class="mb-3">Созадние страницы курсовго проекта</h2>

    <form method="post">
      <div asp-validation-summary="All" class="text-danger mb-2"></div>
      <div class="form-group">
        <label asp-for="Title">Название темы проекта</label>
        <input asp-for="Title" class="form-control"/>
        <span asp-validation-for="Title" class="text-danger"></span>
      </div>
      <div class="form-group">
        <label asp-for="Description">Описание</label>
        <textarea asp-for="Description" class="form-control" rows="5"></textarea>
        <span asp-validation-for="Description" class="text-danger"></span>
      </div>
      <div class="form-group d-flex flex-column justify-content-center">
        <label asp-for="ProjectManagerId">Пожалуста выберите руководителя курсового проекта</label>
        <select asp-for="ProjectManagerId" class="text-center"
                asp-items="@(new SelectList(teachers, "Id", "Full_Name"))">
        </select>

      </div>
      <div class="form-group d-flex flex-column justify-content-center">
        <label asp-for="DisciplineId">Пожалуста выберите дисциплину</label>
        <select asp-for="DisciplineId" class="text-center"
                asp-items="@(new SelectList(_context.Disciplines, "Id", "Name"))">
        </select>
      </div>

      <div class="d-flex justify-content-center m-5">
        <button type="submit" class="btn btn-primary">Создать</button>
      </div>
    </form>
  </div>
</div>