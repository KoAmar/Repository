@model Repository.ViewModels.IndexProjectViewModel

@{
  ViewBag.Title = "Главная";
}

<h1 >Список курсовых проектов</h1>
<div class="row justify-content-center ">

  <div class="mt-3 col-md-8 d-flex flex-column  justify-content-center">

    <div class="btn-group">
      <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-toggle="dropdown"
              data-display="static" aria-haspopup="true" aria-expanded="false">
        Сортировка
      </button>
      <div class="dropdown-menu text-center px-2" style="width: 100%; background-color: lightgray">
        <a class="dropdown-item btn btn-info" type="button" asp-action="Index" asp-route-sort="Name">
          По алфавиту (от А->Я)
        </a>
        <a class="dropdown-item btn btn-info" type="button" asp-action="Index" asp-route-sort="ReverseName">
          По алфавиту (от Я->А)
        </a>
        <a class="dropdown-item btn btn-info" type="button" asp-action="Index" asp-route-sort="Date">
          По дате (от новых к старым)
        </a>
        <a class="dropdown-item btn btn-info" type="button" asp-action="Index" asp-route-sort="ReverseDate">
          По дате (от старых к новым)
        </a>
      </div>
    </div>


    <a class="btn btn-outline-secondary  my-3" asp-controller="Projects" asp-action="CreateProject">Создать</a>
    @foreach (var project in Model.PaginatedProjects())
    {
      <div class="card my-3">

        <div class="card-header"></div>
        <div class="card-link"> </div>

        <div class="card-body">
          <h3 class="card-title">
            @project.Title
          </h3>
          <h6 class="card-subtitle text-muted">
            @project.CreationDate
          </h6>

          <p class="card-text">@project.Description</p>
        </div>

        <div class="card-footer d-flex flex-column flex-sm-row justify-content-around">
          @* <div class="d-flex "> *@
          <a class="my-1 btn btn-secondary" asp-controller="Projects" asp-action="ProjectInfo" asp-route-id="@project.Id">
            Открыть
          </a>
          <a class="my-1 btn btn-secondary" asp-controller="Projects" asp-action="EditProject" asp-route-id="@project.Id">
            Редактировать
          </a>
          <a class="my-1 btn btn-danger" asp-controller="Projects" asp-action="DeleteProject" asp-route-id="@project.Id">
            Удалить
          </a>
          @* </div> *@
        </div>
      </div>
    }

    <a class="btn btn-outline-secondary my-3" asp-controller="Projects" asp-action="CreateProject">Создать</a>

    @*   <nav aria-label="Page navigation example"> *@
    @*     <ul class="pagination justify-content-center"> *@
    @*       <li class="page-item disabled"> *@
    @*         <a class="page-link" href="#" tabindex="-1">Previous</a> *@
    @*       </li> *@
    @*       <li class="page-item"> *@
    @*         <a class="page-link" href="#">1</a> *@
    @*       </li> *@
    @*       <li class="page-item"> *@
    @*         <a class="page-link" href="#">2</a> *@
    @*       </li> *@
    @*       <li class="page-item"> *@
    @*         <a class="page-link" href="#">3</a> *@
    @*       </li> *@
    @*       <li class="page-item"> *@
    @*         <a class="page-link" href="#">Next</a> *@
    @*       </li> *@
    @*     </ul> *@
    @*   </nav> *@
    @* </div> *@
    <ul class="pagination justify-content-center flex-wrap">
      @for (var i = 1; i <= Model.PageCount(); i++)
      {
        <li class="@(i == Model.CurrentPage ? "page-item active" : "page-item")">
          <a class="page-link" asp-action="Index" asp-route-sort="@Model.SortBy" asp-route-pageId="@i">@i</a>
        </li>
      }
    </ul>
  </div>
</div>